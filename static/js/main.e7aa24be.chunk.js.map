{"version":3,"sources":["components/Diff.js","components/Display.js","components/Home.js","App.js","img/healeeLogo.png","index.js"],"names":["Diff","props","useState","difference","setDifference","useEffect","countDifference","data","count","maxCount","i","length","j","rateOnly","Display","selected","setSelected","dataReady","setDataReady","group1","setGroup1","group2","setGroup2","group3","setGroup3","loading","setLoading","groupData","ratesToDisplay","filter","obj","currenciesGroup","allPairs","g1","g2","g3","sort","a","b","push","className","htmlFor","value","id","onChange","event","target","g1html","map","el","index","pair","g2html","g3html","display","Home","currencies","ratesList","setRatesList","getRates","allData","groupedByCurrency","ONE_DAY","isData","JSON","parse","localStorage","getItem","expiry","nextCleanup","Date","getTime","removeItem","fetch","toLowerCase","method","response","json","rate","console","log","setItem","stringify","dataArray","group","includes","objVal","Object","values","newObj","App","src","alt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e7aa24be.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nconst Diff = (props) => {\r\n  const [difference, setDifference] = useState(0);\r\n\r\n  useEffect(() => {\r\n    countDifference();\r\n  }, [props.data]);\r\n\r\n  const countDifference = () => {\r\n    let data = props.data;\r\n    let count = 0;\r\n    let maxCount = 0;\r\n\r\n    for (let i = 0; i < data.length - 1; i++) {\r\n      count = 0;\r\n      for (let j = i + 1; j < data.length; j++) {\r\n        if (data[j].rateOnly - data[i].rateOnly <= 0.5) {\r\n          count++;\r\n        } else {\r\n          if (count >= maxCount) {\r\n            maxCount = count + 1;\r\n          }\r\n\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (count >= maxCount) maxCount = count + 1;\r\n    setDifference(maxCount);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        {difference ? (\r\n          <div>\r\n            <h4>\r\n              {`The length of the longest array, where the absolute difference between any two elements of the array is less than or equal to 0.5`}\r\n            </h4>\r\n            <h2>{difference}</h2>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Diff;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Diff from \"./Diff\";\r\n\r\nimport \"./Display.css\";\r\n\r\nconst Display = (props) => {\r\n  const [selected, setSelected] = useState(\"USD\");\r\n  const [dataReady, setDataReady] = useState([]);\r\n  const [group1, setGroup1] = useState([]);\r\n  const [group2, setGroup2] = useState([]);\r\n  const [group3, setGroup3] = useState([]);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    groupData();\r\n  }, [selected]);\r\n\r\n  const handleChange = (event) => {\r\n    setSelected(event.target.value);\r\n  };\r\n  //Grouping all data from selected currency\r\n  const groupData = () => {\r\n    const index = props.data.filter((obj) => {\r\n      return obj.currenciesGroup === selected;\r\n    });\r\n    let ratesToDisplay = index[0].allPairs;\r\n\r\n    let g1 = [];\r\n    let g2 = [];\r\n    let g3 = [];\r\n\r\n    ratesToDisplay.sort((a, b) => a.rateOnly - b.rateOnly);\r\n    setDataReady(ratesToDisplay);\r\n    for (let i = 0; i < ratesToDisplay.length; i++) {\r\n      if (ratesToDisplay[i].rateOnly < 1) g1.push(ratesToDisplay[i]);\r\n      if (ratesToDisplay[i].rateOnly >= 1 && ratesToDisplay[i].rateOnly < 1.5)\r\n        g2.push(ratesToDisplay[i]);\r\n      if (ratesToDisplay[i].rateOnly >= 1.5) g3.push(ratesToDisplay[i]);\r\n    }\r\n\r\n    setDataReady(ratesToDisplay);\r\n    setGroup1(g1);\r\n    setGroup2(g2);\r\n    setGroup3(g3);\r\n    setLoading(false);\r\n  };\r\n  //Display the HTML\r\n  const display = () => {\r\n    let g1html = group1.map((el, index) => {\r\n      return (\r\n        <p key={index}>\r\n          {el.pair}: {el.rateOnly}\r\n        </p>\r\n      );\r\n    });\r\n    let g2html = group2.map((el, index) => {\r\n      return (\r\n        <p key={index}>\r\n          {el.pair}: {el.rateOnly}\r\n        </p>\r\n      );\r\n    });\r\n    let g3html = group3.map((el, index) => {\r\n      return (\r\n        <p key={index}>\r\n          {el.pair}: {el.rateOnly}\r\n        </p>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"display\">\r\n        <div className=\"row\">\r\n          <div className=\"column\">\r\n            <div className=\"card\">\r\n              <h3>Card 1</h3>\r\n              {g1html}\r\n              <h4>Count: {g1html.length}</h4>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"column\">\r\n            <div className=\"card\">\r\n              <h3>Card 2</h3>\r\n              {g2html}\r\n              <h4>Count: {g2html.length}</h4>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"column\">\r\n            <div className=\"card\">\r\n              <h3>Card 3</h3>\r\n              {g3html}\r\n              <h4>Count: {g3html.length}</h4>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"select\">\r\n        <label htmlFor=\"selectCurrencie\">Please choose a currency:</label>\r\n        <select value={selected} id=\"selectCurrencie\" onChange={handleChange}>\r\n          <option value=\"USD\">USD</option>\r\n          <option value=\"EUR\">EUR</option>\r\n          <option value=\"AUD\">AUD</option>\r\n          <option value=\"CAD\">CAD</option>\r\n          <option value=\"CHF\">CHF</option>\r\n          <option value=\"NZD\">NZD</option>\r\n          <option value=\"BGN\">BGN</option>\r\n        </select>\r\n      </div>\r\n      {loading ? <div></div> : display()}\r\n\r\n      {dataReady ? <Diff data={dataReady} /> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Display;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Display from \"./Display\";\r\nconst Home = () => {\r\n  const currencies = [\"USD\", \"EUR\", \"AUD\", \"CAD\", \"CHF\", \"NZD\", \"BGN\"];\r\n  const [ratesList, setRatesList] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    getRates();\r\n  }, []);\r\n\r\n  //Function for fetching and caching the data\r\n  const getRates = async () => {\r\n    let allData = [];\r\n    let groupedByCurrency = [];\r\n\r\n    //Fetched data will stay in cache( local sotrage ) for 24 hours\r\n    const ONE_DAY = 1000 * 60 * 60 * 24;\r\n\r\n    let isData = JSON.parse(localStorage.getItem(\"data\"));\r\n    let expiry = JSON.parse(localStorage.getItem(\"expiry\"));\r\n    if (isData && expiry && expiry.nextCleanup > new Date().getTime()) {\r\n      allData.push(isData);\r\n    } else {\r\n      allData = [];\r\n      localStorage.removeItem(\"data\");\r\n      localStorage.removeItem(\"expiry\");\r\n      for (let i = 0; i < currencies.length; i++) {\r\n        for (let j = 0; j < currencies.length; j++) {\r\n          if (currencies[j] !== currencies[i]) {\r\n            try {\r\n              const response = await fetch(\r\n                `https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/${currencies[\r\n                  i\r\n                ].toLowerCase()}/${currencies[j].toLowerCase()}.json`,\r\n                {\r\n                  method: \"GET\",\r\n                }\r\n              );\r\n              const json = await response.json();\r\n              allData.push({\r\n                pair: `${currencies[i]}-${currencies[j]}`,\r\n                rate: json,\r\n              });\r\n            } catch (err) {\r\n              console.log(err);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      localStorage.setItem(\"data\", JSON.stringify(allData));\r\n      localStorage.setItem(\r\n        \"expiry\",\r\n        JSON.stringify({\r\n          nextCleanup: new Date().getTime() + ONE_DAY,\r\n        })\r\n      );\r\n    }\r\n    let dataArray = JSON.parse(localStorage.getItem(\"data\"));\r\n    for (let i = 0; i < currencies.length; i++) {\r\n      let group = [];\r\n\r\n      for (let j = 0; j < dataArray.length; j++) {\r\n        if (dataArray[j].pair.includes(`${currencies[i]}`)) {\r\n          let objVal = Object.values(dataArray[j].rate);\r\n          let newObj = {\r\n            pair: dataArray[j].pair,\r\n            rateOnly: objVal[1],\r\n          };\r\n          group.push(newObj);\r\n        }\r\n      }\r\n      groupedByCurrency.push({\r\n        currenciesGroup: currencies[i],\r\n        allPairs: group,\r\n      });\r\n    }\r\n    setRatesList(groupedByCurrency);\r\n    setLoading(false);\r\n  };\r\n\r\n  return <div>{loading ? <h1>Loading</h1> : <Display data={ratesList} />}</div>;\r\n};\r\n\r\nexport default Home;\r\n","import \"./App.css\";\nimport Home from \"./components/Home\";\nimport logo from \"./img/healeeLogo.png\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div className=\"head\">\n        <img src={logo} alt=\"Logo\" />\n        <h1> Healee Task</h1>\n      </div>\n      <h3>Solution provided by Hristomir Hristov</h3>\n      <Home />\n    </div>\n  );\n}\n\nexport default App;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABJCAIAAAD+EZyLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAMaSURBVGhD7Zo/btRAFMbhBnADuAG5QXIDuAHcAG4AJwg3gIYGCqhoQEpQJFKEaKVQbKQIttgiIKRsESSEKJZPeqORNZ4/75sZe+NofnpV7PX4Z8/nebZyY319aW7TpLlNk+Y2TZrbNGluNZhdXjz4+un2wZube692Zh9fnn83GwZjJLfVv79i1a0X59/M5mEYyW13OXfEUNuzD2bzMIzk9nRx4oihcCfN5mHYpBvKbB6G5lZMc6tMcyumuVWGdttf/Xy2OGE7pipue6sfMjS6HPOnKJzbo/mhPS2svHrDQjf0omhB7a/uHr7T6BFu3vPbOnqPy2n2CJPtBofuBbWFcc0eYQg3XC1nAFto8Bd/fpv9fOS5YQb2O2xbyWtKuDmH7hdOJTRVWLe3v5aRSymFY5q9AxButw5eO0fvVyiEejcnWpFKviIRbjiWc/RQ9UOocQtFy1v36uYN4IzvpKaKrW4Ik27xaDn1+OyL+VkUzg3g6uJENfNTSkIYccMcTkbLFl5n4w+tLrSbgAEezj87A4cKNyQUIWW0UJgvmsWmS6abgMFwIZ2TqF6YI7vLuRmSochNwDNGH0K2EK3QupKkghtgQ6gpKlpe6rgJVAgjlREtLzXdhJIQZkfLS303AU0TG8KSaHkZyo1ataSenB1fdTfMSf2q5RRWwufLU3OgYio/S/QNYaRww6/QswRziWoINYWbv/k1ICNa+ioJYZFbSbT0lR3CTDcqWli1QiuefiXMCCHtxkYLvRh+EnnHoVZCKoScm+Yzhq37zLsp1Y4ihOZnUQg3/TcFvPA78yfpBnB79e1o5W94mnmIa+/9RKNxE2aXF8oQ1vwW5By6XxAIPa/1boImhDim2TsA4RYZrBstL6ybgF9FQph8bBJu3v816EfLS54bCIWw/je87jC4jckZb8l2E5wQYujQ5O/CuQEMgxPVWwmFboIdWiMGaLc8qrixNLdimltlmlsxza0ym3RDP2U2D8NIbtf5f0PRSfS7XjT7ZvMwjOQG8KKA1wUxxB1ju7YMxnMbn+Y2TZrbNGlu06S5TZH1+j/4Rbou6sWNFAAAAABJRU5ErkJggg==\"","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}