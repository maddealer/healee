(this.webpackJsonphealee=this.webpackJsonphealee||[]).push([[0],{11:function(e,t,c){},14:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(5),s=c.n(r),l=(c(11),c(4)),i=c.n(l),j=c(6),o=c(2),u=c(0),h=function(e){var t=Object(n.useState)(0),c=Object(o.a)(t,2),a=c[0],r=c[1];Object(n.useEffect)((function(){s()}),[e.data]);var s=function(){for(var t=e.data,c=0,n=0,a=0;a<t.length-1;a++){c=0;for(var s=a+1;s<t.length;s++){if(!(t[s].rateOnly-t[a].rateOnly<=.5)){c>n&&(n=c+1);break}c++}}c>n&&(n=c+1),r(n)};return Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:a?Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:"The length of the longest array, where the absolute difference between any two elements of the array is less than or equal to 0.5"}),Object(u.jsx)("br",{}),Object(u.jsx)("h3",{children:a})]}):null})})},O=(c(14),function(e){var t=Object(n.useState)("USD"),c=Object(o.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)([]),l=Object(o.a)(s,2),i=l[0],j=l[1],O=Object(n.useState)([]),b=Object(o.a)(O,2),d=b[0],x=b[1],p=Object(n.useState)([]),f=Object(o.a)(p,2),v=f[0],g=f[1],m=Object(n.useState)([]),S=Object(o.a)(m,2),y=S[0],N=S[1],C=Object(n.useState)(!0),D=Object(o.a)(C,2),k=D[0],w=D[1];Object(n.useEffect)((function(){U()}),[a]);var U=function(){var t=e.data.filter((function(e){return e.currenciesGroup===a}))[0].allPairs,c=[],n=[],r=[];t.sort((function(e,t){return e.rateOnly-t.rateOnly})),j(t);for(var s=0;s<t.length;s++)t[s].rateOnly<1&&c.push(t[s]),t[s].rateOnly>=1&&t[s].rateOnly<1.5&&n.push(t[s]),t[s].rateOnly>=1.5&&r.push(t[s]);j(t),x(c),g(n),N(r),w(!1)};return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"select",children:[Object(u.jsx)("h4",{children:"Please choose a currency"}),Object(u.jsxs)("select",{value:a,onChange:function(e){r(e.target.value)},children:[Object(u.jsx)("option",{value:"USD",children:"USD"}),Object(u.jsx)("option",{value:"EUR",children:"EUR"}),Object(u.jsx)("option",{value:"AUD",children:"AUD"}),Object(u.jsx)("option",{value:"CAD",children:"CAD"}),Object(u.jsx)("option",{value:"CHF",children:"CHF"}),Object(u.jsx)("option",{value:"NZD",children:"NZD"}),Object(u.jsx)("option",{value:"BGN",children:"BGN"})]})]}),k?Object(u.jsx)("div",{}):function(){var e=d.map((function(e,t){return Object(u.jsxs)("p",{children:[e.pair,": ",e.rateOnly]},t)})),t=v.map((function(e,t){return Object(u.jsxs)("p",{children:[e.pair,": ",e.rateOnly]},t)})),c=y.map((function(e,t){return Object(u.jsxs)("p",{children:[e.pair,": ",e.rateOnly]},t)}));return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"column",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("h3",{children:"Card 1"}),e,Object(u.jsxs)("h4",{children:["Count: ",e.length]})]})}),Object(u.jsx)("div",{className:"column",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("h3",{children:"Card 2"}),t,Object(u.jsxs)("h4",{children:["Count: ",t.length]})]})}),Object(u.jsx)("div",{className:"column",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("h3",{children:"Card 3"}),c,Object(u.jsxs)("h4",{children:["Count: ",c.length]})]})})]})})}(),Object(u.jsx)("hr",{}),i?Object(u.jsx)(h,{data:i}):null]})}),b=function(){var e=["USD","EUR","AUD","CAD","CHF","NZD","BGN"],t=Object(n.useState)([]),c=Object(o.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!0),l=Object(o.a)(s,2),h=l[0],b=l[1];Object(n.useEffect)((function(){d()}),[]);var d=function(){var t=Object(j.a)(i.a.mark((function t(){var c,n,a,s,l,j,o,u,h,O,d,x,p,f,v;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=[],n=[],a=6e4,s=JSON.parse(localStorage.getItem("data")),l=JSON.parse(localStorage.getItem("expiry")),!(s&&l&&l.nextCleanup>(new Date).getTime())){t.next=10;break}c.push(s),console.log("gore"),t.next=40;break;case 10:c=[],console.log("dolu"),localStorage.removeItem("data"),localStorage.removeItem("expiry"),j=0;case 15:if(!(j<e.length)){t.next=38;break}o=0;case 17:if(!(o<e.length)){t.next=35;break}if(e[o]===e[j]){t.next=32;break}return t.prev=19,t.next=22,fetch("https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/".concat(e[j].toLowerCase(),"/").concat(e[o].toLowerCase(),".json"),{method:"GET"});case 22:return u=t.sent,t.next=25,u.json();case 25:h=t.sent,c.push({pair:"".concat(e[j],"-").concat(e[o]),rate:h}),t.next=32;break;case 29:t.prev=29,t.t0=t.catch(19),console.log(t.t0);case 32:o++,t.next=17;break;case 35:j++,t.next=15;break;case 38:localStorage.setItem("data",JSON.stringify(c)),localStorage.setItem("expiry",JSON.stringify({nextCleanup:(new Date).getTime()+a}));case 40:for(O=JSON.parse(localStorage.getItem("data")),d=0;d<e.length;d++){for(x=[],p=0;p<O.length;p++)O[p].pair.includes("".concat(e[d]))&&(f=Object.values(O[p].rate),v={pair:O[p].pair,rateOnly:f[1]},x.push(v));n.push({currenciesGroup:e[d],allPairs:x})}r(n),b(!1);case 44:case"end":return t.stop()}}),t,null,[[19,29]])})));return function(){return t.apply(this,arguments)}}();return Object(u.jsx)("div",{children:h?Object(u.jsx)("h1",{children:"Loading"}):Object(u.jsx)(O,{data:a})})};var d=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("h1",{children:"Healee Task"}),Object(u.jsx)("h3",{children:"Solution by Hristomir Hristov"}),Object(u.jsx)(b,{})]})};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(d,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.fc31a2e4.chunk.js.map